<!DOCTYPE html>
<html>

<head>

    <title>WİNE SHOP</title>
    <style type="text/css">
        #main-footer {
            text-align: center;
            font-size: 10px;
        }

        body {
            background: rgb(0, 36, 10);
            background: linear-gradient(90deg, rgba(0, 36, 10, 1) 0%, rgba(9, 121, 102, 1) 35%, rgba(0, 212, 255, 1) 100%);

        }
    </style>

    <link rel="stylesheet" href="css/style.css">
    <script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>


</head>

<body style="margin-left: 100px; margin-right: 100px; display: block; color: aliceblue;">
    <nav class="navbar navbar-expand-lg navbar-light">
        <div class="container-fluid">
            <a style="color: aqua;" class="navbar-brand" href="#">Navbar</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Link</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            Dropdown
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item" href="#">Action</a></li>
                            <li><a class="dropdown-item" href="#">Another action</a></li>
                            <li>
                                <hr class="dropdown-divider">
                            </li>
                            <li><a class="dropdown-item" href="#">Something else here</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link disabled">Disabled</a>
                    </li>
                </ul>
                <form class="d-flex">
                    <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                    <button class="btn btn-outline-success" type="submit">Search</button>
                </form>
            </div>
        </div>
    </nav>
    <!-- Headings -->
    <ng-container>
        <h3>BİENVENUE A TODOS</h3>
        <h4>You are in the wine shop</h4>

        <div style="display: inline-flex;">
            <div>

                <P style="width: 70%;">Wine has been produced for thousands of years, with evidence of ancient wine
                    production in <strong>Georgia
                        from
                        Iran from Armenia from and Sicily from</strong> The earliest evidence of a grape and rice mixed
                    based
                    fermented drink sometimes compared to wine was found in ancient China

                    The altered consciousness produced by wine has been considered religious since its origin. <a
                        href="https://en.wikipedia.org/wiki/Ancient_Greece">Ancient Greece</a> worshiped Dionysus or
                    Bacchus and
                    <a href="https://en.wikipedia.org/wiki/Ancient_Rome"> The Ancient Romans</a> carried on his cult.
                    Consumption
                    of ritual wine, probably a certain type of sweet wine originally, was part of Jewish practice since
                    Biblical
                    times and, as part of the eucharist commemorating Jesus's Last Supper, became even more essential to
                    the
                    Christian Church. Although Islam nominally forbade the production or consumption of wine, during its
                    Golden
                    Age,
                    alchemists such as Geber pioneered wine's distillation for medicinal and industrial purposes such as
                    the
                    production of perfume.

                    Wine production and consumption increased, burgeoning from the 15th century onwards as part of
                    European
                    expansion. Despite the devastating 1887 phylloxera louse infestation, modern science and technology
                    adapted
                    and
                    industrial wine production and wine consumption now occur throughout the world.
                </P>
            </div>

            <div>
                <img src="wine.png" alt="" srcset="" style="width: 14rem;" class="dondur">
            </div>
        </div>
        <div>
            <div class="container" id="winelist">
             

            </div>

            <p class="warning">Inspired from a Windows 10 Fluent Design effect on the Calculator App, where hovering
                over an item shows a subtle cross in the corner closest to the cursor. <a class="more" target="_blank"
                    href="https://www.gsarigiannidis.gr/windows-fluent-design-css-cross-hover-corner/">Read more</a></p>
        </div>




        <strong>Here you will learn</strong>
        <ul>
            <li>Vine domestication</li>
            <li>Wine fermentation </li>
            <li>Legends of discovery </li>
            <li>Ancient China</li>
            <li>Developments in Europe </li>
        </ul>
        <BR></BR>

        <!--TABLE-->
        <table>
            <thead>
                <tr>
                    <th>LETS GIVE US AN IDEA WHATS YOUR TASTE LIKE :) </th>
                </tr>
            </thead>
        </table>
        <BR></BR>
        <div>

            <a href="mytaste.jpg">
                <img src="mytaste.jpg" alt="My images" width="500"> </a>

        </div>

        <br>
        <form class="form" style="width: 31rem;" action=" process.php" method="post">

            <label for="What's your color ?">What's your color ?</label>
            <select class="form-control" name="What's your color ?" id="wine">
                <option class="dropdown-item" value="Red wine">Red wine</option>
                <option value="Rose wine">Rose wine</option>
                <option value="White wine">White wine</option>
                <option value="No idea">No idea</option>
            </select>

            <label for="origin">Where's the origin of wine ?</label>
            <select class="form-control" name="Where's the origin of wine ?" id="origin" name="origin">
                <option value="Malesia">Malesia</option>
                <option value="France">France</option>
                <option value="England">England</option>
                <option value="Georgia">Georgia</option>
                <option value="None">None</option>
            </select>
            <label for="Rate the hardness of the wine 1 to 3">Rate the hardness of the wine 1 to 3 </label>
            <select class="form-control" name="Rate the hardness of the wine 1 to 3" id="hardness">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
            </select>
            <label for="What'd you choose with wine">What'd you choose with wine</label>
            <select class="form-control" name="What'd you choose with wine" id="extras">
                <option value="mac&cheese">mac&cheese</option>
                <option value="fruits">fruits</option>
                <option value="chips">chips</option>
                <option value="ekstazi">ekstazi</option>
                <option value="other">other</option>
            </select>
            <label>If there's any problem let us know:</label>
            <textarea class="form-control" id="comment" name="If there's any problem let us know:" cols="50"
                rows="5"></textarea>
            <a type="button" style="border-radius: 10px;" class="btn btn-success" onclick="send_data(event)">
                Submit Data
            </a>
            <aside>
                <h3>Comments</h3>
                <nav>
                    <ul style="background-color: black;" class="list-group" id="commnetlist">
                    </ul>
                </nav>
            </aside>


    </ng-container>

    <header id="main-footer"></header>

    <footer>
        <p>Copyright &copy; 2021 , My Website</p>
    </footer>

</body>



<script src="/js/dom.js"></script>
<script src="/js/course2.js">
</script>

<script>



    const wine = document.getElementById("wine");
    const hardness = document.getElementById("hardness");
    const origin = document.getElementById("origin");
    const extras = document.getElementById("extras");
    const comment = document.getElementById("comment");
    const comul = document.getElementById("commnetlist");
    const datas = document.getElementById("winelist");


    function getWines(){
            $.ajax({
            url: "http://localhost:3000/winelist",
            type: 'GET',
            dataType: 'json', // added data type
            success: function (res) {
               let html = "";
               console.log("wines: ",res);
               let saraplar = res;
               for (const wine of saraplar) {
                   html = html + ` 
                <div class="entry">
                    
                    <div class="entry-content">
                        <a href="${wine.image}"><img src="${wine.image}" width="300px" alt="${wine.name}"></a>
                        </div>
                    <div class="corner-container">
                        <span class="corner"></span>
                        <span class="corner"></span>
                        <span class="corner"></span>
                        <span class="corner"></span>
                    </div>
                </div>`
               }
               datas.innerHTML = html;
            },
            error : function (jqXhr,textStatus,errorThrown){
                console.error("Error: ",errorThrown);


            }
        });
        }

    function bas(event) {
        $.ajax({
            url: "http://localhost:3000/comments",
            type: 'GET',
            dataType: 'html', // added data type
            success: function (res) {
                comul.innerHTML = res;
            }
        });

    }


    function send_data(event) {

        const sending_data = {
            "wine": wine.options[wine.selectedIndex].text,
            "hardness": hardness.options[hardness.selectedIndex].text,
            "origin": origin.options[origin.selectedIndex].text,
            "extras": extras.options[extras.selectedIndex].text,
            "comment": comment.value
        }

        console.log(sending_data);

        $.ajax({
            url: 'http://localhost:3000/nazli',
            dataType: 'text',
            type: 'post',
            contentType: 'application/json',
            data: JSON.stringify(sending_data),
            success: function (data, textStatus, jQxhr) {
                console.log(data);
                bas({});
            },
            error: function (jqXhr, textStatus, errorThrown) {
                console.error("HATA",errorThrown);
            }
        });

 


    }


</script>
<script>
    $(window).on("load", function () {
        bas("");
        getWines();
    });
</script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

</html>